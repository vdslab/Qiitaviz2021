{"version":3,"sources":["ZoomableSVG.js","components/DisplayRecommendArticles.js","components/SubViewData.js","components/DisplaySubview.js","components/AreaTab.js","components/Search.js","components/DescriptionModal.js","D3DirectedGraph.js","components/Header.js","components/Footer.js","App.js","index.js"],"names":["ZoomableSVG","children","svgRef","width","height","useRef","useState","k","setK","x","setX","y","setY","useEffect","zoom","d3","on","event","transform","scaleExtent","current","call","ref","className","style","display","marginLeft","marginRight","DisplayRecommendArticles","displayArticle","map","item","i","href","url","target","title","SubViewData","DisplaySubview","paddingLeft","paddingRight","overflowY","AreaTab","aria-haspopup","aria-controls","id","role","Search","type","name","placeholder","DescriptionModal","modalActive","setModalActive","hideModalHandle","position","top","right","onClick","class","color","D3DirectedGraph","articleData","setArticleData","loading","setLoading","nodes","setNodes","links","setLinks","setDisplayArticle","window","deviceWidth","innerWidth","deviceHeight","innerHeight","svgWidth","svgHeight","clickNode","e","currentTarget","dataset","data","filter","startSimulation","simulation","force","radius","d","r","iterations","distance","strength","tick","stop","slice","a","fetch","response","json","Array","push","ID","label","nodeName","childNode","child","source","startLineChart","marginTop","marginBottom","viewBox","refX","refY","orient","markerWidth","markerHeight","xoverflow","fill","stroke","link","strokeWidth","markerEnd","x1","y1","x2","y2","node","cx","cy","data-url","data-name","textAnchor","fontSize","Header","Footer","App","minHeight","render","document","querySelector"],"mappings":"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","file":"static/js/main.939c784c.chunk.js","sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport * as d3 from \"d3\";\nimport { autoType } from \"d3\";\n\nfunction ZoomableSVG({ children, width, height }) {\n  const svgRef = useRef();\n  const [k, setK] = useState(1);\n  const [x, setX] = useState(0);\n  const [y, setY] = useState(0);\n  useEffect(() => {\n    const zoom = d3.zoom().on(\"zoom\", (event) => {\n      const { x, y, k } = event.transform;\n      setK(k);\n      setX(x);\n      setY(y);\n    });\n    zoom.scaleExtent([0.5, 2]);\n    d3.select(svgRef.current).call(zoom);\n  }, []);\n  return (\n    <svg\n      ref={svgRef}\n      width={\"100%\"}\n      height={\"100%\"}\n      className=\"has-background-white\"\n      style={{\n        display: \"block\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n      }}\n    >\n      <g transform={`translate(${x}, ${y})scale(${k})`}>{children}</g>\n    </svg>\n  );\n}\n\nexport default ZoomableSVG;\n","const DisplayRecommendArticles = ({ displayArticle }) => {\n  return (\n    <div>\n      <div>\n        {displayArticle.map((item, i) => {\n          return (\n            <p key={i}>\n              <a href={item.url} target=\"_blank\">\n                {item.title}\n              </a>\n            </p>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default DisplayRecommendArticles;\n","import \"bulma/css/bulma.css\";\r\nimport DisplayRecommendArticles from \"./DisplayRecommendArticles\";\r\nfunction SubViewData({ displayArticle }) {\r\n  return <DisplayRecommendArticles displayArticle={displayArticle} />;\r\n}\r\nexport default SubViewData;\r\n","import \"bulma/css/bulma.css\";\nimport { useState } from \"react\";\nimport DisplayRecommendArticles from \"./DisplayRecommendArticles\";\nimport SubViewData from \"./SubViewData\";\n\nconst DisplaySubview = ({ displayArticle }) => {\n  const [active, setActive] = useState(\"usage\");\n  return (\n    <div\n      className=\"column is-4-desktop is-6-mobile box\"\n      style={{\n        marginLeft: \"10px\",\n        paddingLeft: \"40px\",\n        paddingRight: \"40px\",\n        height: \"84vh\",\n        overflowY: \"scroll\",\n      }}\n    >\n      <div className=\"\">\n        <h2>おすすめ記事</h2>\n      </div>\n      <div className=\"content\">\n        <SubViewData displayArticle={displayArticle} />\n      </div>\n    </div>\n  );\n};\n\nexport default DisplaySubview;\n","import \"bulma/css/bulma.css\";\n\nfunction AreaTab() {\n  return (\n    <div className=\"column is-2\">\n      <div className=\"dropdown is-hoverable\">\n        <div className=\"dropdown-trigger\">\n          <button\n            className=\"button\"\n            aria-haspopup=\"true\"\n            aria-controls=\"dropdown-menu\"\n          >\n            <span>領域を選択</span>\n            <span className=\"icon is-small\">\n              <i className=\"fas fa-angle-down\"></i>\n            </span>\n          </button>\n        </div>\n        <div className=\"dropdown-menu\" id=\"dropdown-menu\" role=\"menu\">\n          <div className=\"dropdown-content\">\n            <a href=\"#\" className=\"dropdown-item\">\n              Web\n            </a>\n            <a href=\"#\" className=\"dropdown-item\">\n              IOS\n            </a>\n            <a href=\"#\" className=\"dropdown-item\">\n              Android\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default AreaTab;\n","import \"bulma/css/bulma.css\";\n\nfunction Search() {\n  return (\n    <div className=\"column is-4\">\n      <div className=\"field has-addons\">\n        <div className=\"control\">\n          <input\n            className=\"input\"\n            type=\"text\"\n            name=\"search\"\n            placeholder=\"タグを検索\"\n          />\n        </div>\n        <div className=\"control\">\n          <a className=\"button is-success\">\n            <i className=\"fa fa-search\"></i>検索\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Search;\n","import { useState } from \"react\";\r\nfunction DescriptionModal() {\r\n  const [modalActive, setModalActive] = useState(false);\r\n  const showModalHandle = () => {\r\n    setModalActive(true);\r\n  };\r\n  const hideModalHandle = () => {\r\n    setModalActive(false);\r\n  };\r\n  return (\r\n    <div style={{ position: \"absolute\", top: \"0\", right: \"0\" }}>\r\n      <div>\r\n        <div\r\n          className=\"button is-primary is-inverted\"\r\n          onClick={showModalHandle}\r\n        >\r\n          <i class=\"far  fa-question-circle\" style={{ color: \"#bfbfbf\" }}></i>\r\n        </div>\r\n      </div>\r\n      <div className={modalActive ? \"modal is-active\" : \"modal\"}>\r\n        <div className=\"modal-background\" onClick={hideModalHandle}></div>\r\n        <div className=\"modal-card\">\r\n          <header className=\"modal-card-head\">\r\n            <p className=\"modal-card-title\">マップの使い方</p>\r\n          </header>\r\n          <section className=\"modal-card-body\" style={{ color: \"black\" }}>\r\n            <div>\r\n              <div>\r\n                <p>領域を選択できる機能</p>\r\n                ユーザーが気になる領域を選択したら、その領域についてのマップが表示されます\r\n                フロント バック iOS\r\n                <p>タグの検索機能</p>\r\n                タグを検索してそのタグが含まれる領域のマップに遷移します\r\n                <p>ノードをマウスホバーしたら、Qiitaの記事に飛べる</p>\r\n                ユーザーのレベルに合わせたタグの記事が表示されます\r\n                <p>マップ部分</p>\r\n                マウスでマップの拡大縮小ができる\r\n                マウスでドラックするとマップを自由に移動できる\r\n              </div>\r\n            </div>\r\n          </section>\r\n          <footer className=\"modal-card-foot\">\r\n            <button\r\n              className=\"button\"\r\n              onClick={hideModalHandle}\r\n              style={{ marginLeft: \"auto\" }}\r\n            >\r\n              閉じる\r\n            </button>\r\n          </footer>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default DescriptionModal;\r\n","import * as d3 from \"d3\";\r\nimport \"bulma/css/bulma.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport ZoomableSVG from \"./ZoomableSVG\";\r\nimport DisplaySubView from \"./components/DisplaySubview\";\r\nimport AreaTab from \"./components/AreaTab\";\r\nimport Search from \"./components/Search\";\r\nimport DescriptionModal from \"./components/DescriptionModal\";\r\n\r\nfunction D3DirectedGraph() {\r\n  // 仮の記事データ\r\n  const MOBILE_BORDER_SIZE = 599;\r\n\r\n  const [articleData, setArticleData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [nodes, setNodes] = useState([]);\r\n  const [links, setLinks] = useState([]);\r\n  // おすすめ記事\r\n  const [displayArticle, setDisplayArticle] = useState([]);\r\n\r\n  // デバイスの横幅を取得\r\n  const { innerWidth: deviceWidth, innerHeight: deviceHeight } = window;\r\n  const svgWidth = deviceWidth * 0.66;\r\n  // const svgHeight = deviceWidth <= MOBILE_BORDER_SIZE ? 1500 : 1100;\r\n  const svgHeight = deviceHeight * 0.7;\r\n\r\n  function clickNode(e) {\r\n    const target = e.currentTarget.dataset.name;\r\n    const data = articleData.filter((item) => {\r\n      return item.type == target;\r\n    });\r\n    setDisplayArticle(data);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const startSimulation = (nodes, links) => {\r\n      const linkLen = 150;\r\n      const simulation = d3\r\n        .forceSimulation()\r\n        .force(\r\n          \"collide\",\r\n          d3\r\n            .forceCollide()\r\n            .radius(function (d) {\r\n              return d.r;\r\n            })\r\n            .iterations(16)\r\n        ) //衝突値の設定\r\n        .force(\r\n          \"link\",\r\n          d3\r\n            .forceLink()\r\n            .distance((d) => linkLen)\r\n            .id((d) => d.id)\r\n        ) //stength:linkの強さ（元に戻る力 distance: linkの長さ\r\n        .force(\"charge\", d3.forceManyBody().strength(-500)) //引き合う力を設定。\r\n        .force(\"center\", d3.forceCenter(svgWidth / 2, svgHeight / 2)) //描画するときの中心を設定\r\n        .force(\r\n          \"x\",\r\n          d3\r\n            .forceX()\r\n            .x(svgWidth / 2)\r\n            .strength(0.1)\r\n        ); //x方向に戻る力\r\n\r\n      simulation\r\n        // forceSimulationの影響下にnodesを置く\r\n        .nodes(nodes);\r\n\r\n      // linkデータをセット\r\n      simulation.force(\"link\").links(links);\r\n      simulation.tick(300).stop();\r\n\r\n      setNodes(nodes.slice());\r\n      setLinks(links.slice());\r\n    };\r\n\r\n    const startLineChart = async () => {\r\n      const [nodes, links] = await (async () => {\r\n        const response = await fetch(\"./data/new_data.json\");\r\n        const data = await response.json();\r\n        const nodes = Array();\r\n        const links = Array();\r\n\r\n        const r = 35;\r\n        for (const item of data) {\r\n          nodes.push({\r\n            id: item.ID, //nodeのindexを標準設定から変更\r\n            label: item.nodeName,\r\n            url: item.url,\r\n            r,\r\n          });\r\n          for (const child of item.childNode) {\r\n            links.push({\r\n              source: item.ID,\r\n              target: child,\r\n            });\r\n          }\r\n        }\r\n\r\n        return [nodes, links];\r\n      })();\r\n      setArticleData(\r\n        await (async () => {\r\n          const response = await fetch(\"article_data.json\");\r\n          const data = await response.json();\r\n          return data;\r\n        })()\r\n      );\r\n      startSimulation(nodes, links);\r\n      setLoading(false);\r\n    };\r\n    startLineChart();\r\n  }, []);\r\n\r\n  const arrowEdgeX = -35;\r\n  const arrowEdgeY = -5;\r\n  const arrowHeight = 10;\r\n  const arrowWidth = 14;\r\n  const arrowEdgeEnd = -25;\r\n\r\n  if (loading) {\r\n    return <div>loading...</div>;\r\n  }\r\n  return (\r\n    <div\r\n      className=\"columns is-mobile\"\r\n      style={{\r\n        marginRight: \"20px\",\r\n        marginLeft: \"20px\",\r\n        marginTop: \"20px\",\r\n      }}\r\n    >\r\n      <div\r\n        className=\"column is-8-desktop is-6-mobile box\"\r\n        style={{ height: \"84vh\", position: \"relative\" }}\r\n      >\r\n        <div className=\"columns mt-2\" style={{ marginBottom: \"0\" }}>\r\n          <div className=\"column\">\r\n            <DescriptionModal />\r\n            <div className=\"columns is-centered\">\r\n              <AreaTab />\r\n              <Search />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          style={{\r\n            height:\r\n              deviceWidth <= 845 ? deviceHeight * 0.65 : deviceHeight * 0.73,\r\n          }}\r\n        >\r\n          <ZoomableSVG width={svgWidth} height={svgHeight}>\r\n            <defs>\r\n              <marker\r\n                id=\"arrowhead\"\r\n                viewBox={`${arrowEdgeX} ${arrowEdgeY} ${arrowWidth} ${arrowHeight}`}\r\n                refX=\"13\"\r\n                refY=\"0\"\r\n                orient=\"auto\"\r\n                markerWidth=\"13\"\r\n                markerHeight=\"13\"\r\n                xoverflow=\"visible\"\r\n              >\r\n                <path\r\n                  d={`M ${arrowEdgeX} ${arrowEdgeY} L ${arrowEdgeEnd} 0 L ${arrowEdgeX} ${\r\n                    -1 * arrowEdgeY\r\n                  }`}\r\n                  fill=\"#999\"\r\n                  style={{ stroke: \"none\" }}\r\n                ></path>\r\n              </marker>\r\n            </defs>\r\n\r\n            <g className=\"links\">\r\n              {links.map((link) => {\r\n                return (\r\n                  <line\r\n                    key={link.source.id + \"-\" + link.target.id}\r\n                    stroke=\"black\"\r\n                    strokeWidth=\"1\"\r\n                    className=\"link\"\r\n                    markerEnd=\"url(#arrowhead)\"\r\n                    id=\"edgepath0\"\r\n                    x1={link.source.x}\r\n                    y1={link.source.y}\r\n                    x2={link.target.x}\r\n                    y2={link.target.y}\r\n                  ></line>\r\n                );\r\n              })}\r\n            </g>\r\n\r\n            <g className=\"nodes\">\r\n              {nodes.map((node) => {\r\n                return (\r\n                  <g className=\"nodes\" key={node.id}>\r\n                    <circle\r\n                      className=\"node\"\r\n                      r={node.r}\r\n                      style={{ fill: \"rgb(128, 255, 191)\" }}\r\n                      cx={node.x}\r\n                      cy={node.y}\r\n                      data-url={node.url}\r\n                      data-name={node.label}\r\n                      onClick={clickNode}\r\n                    ></circle>\r\n\r\n                    <text\r\n                      className=\"node-label\"\r\n                      textAnchor=\"middle\"\r\n                      fill=\"black\"\r\n                      fontSize={\r\n                        deviceWidth <= MOBILE_BORDER_SIZE ? \"15px\" : \"15px\"\r\n                      }\r\n                      x={node.x}\r\n                      y={node.y}\r\n                    >\r\n                      {node.label}\r\n                    </text>\r\n                  </g>\r\n                );\r\n              })}\r\n            </g>\r\n          </ZoomableSVG>\r\n        </div>\r\n      </div>\r\n      <DisplaySubView displayArticle={displayArticle} />\r\n    </div>\r\n  );\r\n}\r\nexport default D3DirectedGraph;\r\n","import \"bulma/css/bulma.css\";\nimport { useState, useEffect } from \"react\";\nfunction Header() {\n  const [modalActive, setModalActive] = useState(false);\n  const { innerHeight: deviceHeight } = window;\n  const showModalHandle = () => {\n    setModalActive(true);\n  };\n  const hideModalHandle = () => {\n    setModalActive(false);\n  };\n  return (\n    <div\n      className=\"hero is-small is-primary\"\n      style={{ height: deviceHeight * 0.1 }}\n    >\n      <section className=\"section hero-body\">\n        <div className=\"container\">\n          <div className=\"columns is-mobile is-centered \">\n            <div className=\"column is-5\">\n              <h1 className=\"title is-size-3-desktop is-size-5-mobile has-text-centered\">\n                QiitaViz-legends\n              </h1>\n            </div>\n            <div className=\"column is-narrow\">\n              <a className=\"button is-small\" onClick={showModalHandle}>\n                このサイトについて\n              </a>\n            </div>\n          </div>\n          <div className={modalActive ? \"modal is-active\" : \"modal\"}>\n            <div className=\"modal-background\" onClick={hideModalHandle}></div>\n            <div className=\"modal-card\">\n              <header className=\"modal-card-head\">\n                <p className=\"modal-card-title\">このサイトについて</p>\n              </header>\n              <section className=\"modal-card-body\" style={{ color: \"black\" }}>\n                <h2 className=\"title is-4\" style={{ color: \"black\" }}>\n                  このサイトでできること\n                </h2>\n                <p>Qiitaのタグを用いていることの説明を入れる</p>\n                <p>\n                  プログラミング初学者の学習支援（とっかかり）\n                  プログラミング初学者が学ぶべき順番がマップを見ることではっきりする\n                  学びたいタグと他のタグとの関係性がわかる\n                  学習内容とマッチするQiitaの記事に移行できる\n                </p>\n                <h2 className=\"title is-4\" style={{ color: \"black\" }}>\n                  参考文献\n                </h2>\n                <p>大川英樹 関亜紀子 技術解説記事の難易度分類による検索支援</p>\n                <p>\n                  山河絵利奈 田島敬史 ウィキペディアを利用した単語の難易度推定\n                </p>\n                <p>\n                  西原陽子 砂山渡 谷内正彦\n                  Webページの難易度と学習順序に基づく情報理解支援システム\n                </p>\n              </section>\n              <footer className=\"modal-card-foot\">\n                <button\n                  className=\"button\"\n                  onClick={hideModalHandle}\n                  style={{ marginLeft: \"auto\" }}\n                >\n                  閉じる\n                </button>\n              </footer>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n\nexport default Header;\n","import \"bulma/css/bulma.css\";\n\nconst Footer = () => {\n  return (\n    <footer className=\"footer has-background-white-ter\">\n      <div className=\"content has-text-centered\">\n        <p>2021 QiitaViz</p>\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import D3DirectedGraph from \"./D3DirectedGraph\";\nimport \"bulma/css/bulma.css\";\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nconst App = () => {\n  return (\n    <div>\n      <Header />\n      <section style={{ minHeight: \"90vh\" }}>\n        <D3DirectedGraph />\n      </section>\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n","import { render } from \"react-dom\";\nimport App from \"./App\";\n\nrender(<App />, document.querySelector(\"#content\"));"],"sourceRoot":""}