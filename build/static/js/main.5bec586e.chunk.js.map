{"version":3,"sources":["components/ZoomableSVG.js","components/DisplayRecommendArticles.js","components/SubViewData.js","components/DisplaySubview.js","components/AreaTab.js","components/Search.js","components/DescriptionModal.js","components/D3DirectedGraph.js","components/Header.js","components/Footer.js","App.js","index.js"],"names":["ZoomableSVG","children","svgRef","width","height","useRef","useState","k","setK","x","setX","y","setY","useEffect","zoom","d3","on","event","transform","scaleExtent","current","call","ref","className","style","display","marginLeft","marginRight","DisplayRecommendArticles","displayArticle","map","item","i","url","j","href","terget","title","SubViewData","DisplaySubview","window","deviceWidth","innerWidth","innerHeight","paddingLeft","paddingRight","overflowY","AreaTab","setClusterDataUrl","selectCluster","setSelectCluster","dropdownActive","setDropdownActive","setDataUrl","selectedCluster","onClick","aria-haspopup","aria-controls","id","role","Search","tagListData","setSearchTag","inputTag","setInputTag","type","name","placeholder","value","onChange","e","target","handleChange","data","includes","handleClick","DescriptionModal","modalActive","setModalActive","hideModalHandle","position","top","right","color","D3DirectedGraph","articleData","setArticleData","setTagListData","selectChildNodes","setSelectChildNodes","loading","setLoading","nodes","setNodes","links","setLinks","searchTag","clusterDataUrl","setDisplayArticle","deviceHeight","svgWidth","svgHeight","clickNode","selectedNode","label","filter","childNodes","slice","push","startSimulation","simulation","force","radius","d","r","iterations","distance","strength","level","tick","stop","node","a","fetch","response1","json","response2","data2","Array","ID","nodeName","diff","childNode","child","source","response","startSetGraphData","marginTop","marginBottom","viewBox","refX","refY","orient","markerWidth","markerHeight","xoverflow","fill","stroke","link","strokeWidth","markerEnd","x1","y1","x2","y2","cx","cy","data-url","data-name","textAnchor","fontSize","Header","Footer","App","minHeight","render","document","querySelector"],"mappings":"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","file":"static/js/main.5bec586e.chunk.js","sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport * as d3 from \"d3\";\nimport { autoType } from \"d3\";\n\nfunction ZoomableSVG({ children, width, height }) {\n  const svgRef = useRef();\n  const [k, setK] = useState(1);\n  const [x, setX] = useState(0);\n  const [y, setY] = useState(0);\n  useEffect(() => {\n    const zoom = d3.zoom().on(\"zoom\", (event) => {\n      const { x, y, k } = event.transform;\n      setK(k);\n      setX(x);\n      setY(y);\n    });\n    zoom.scaleExtent([0.5, 2]);\n    d3.select(svgRef.current).call(zoom);\n  }, []);\n\n  return (\n    <svg\n      ref={svgRef}\n      width={\"100%\"}\n      height={\"100%\"}\n      className=\"has-background-white\"\n      style={{\n        display: \"block\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n      }}\n    >\n      <g transform={`translate(${x}, ${y})scale(${k})`}>{children}</g>\n    </svg>\n  );\n}\n\nexport default ZoomableSVG;\n","const DisplayRecommendArticles = ({ displayArticle }) => {\n  return (\n    <div>\n      <div>\n        {displayArticle.map((item, i) => {\n          return item.url.map((url, j) => {\n            return (\n              <p key={j}>\n                <a href={url} terget=\"_blank\">\n                  {item.title[j]}\n                </a>\n              </p>\n            );\n          });\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default DisplayRecommendArticles;\n","import \"bulma/css/bulma.css\";\r\nimport DisplayRecommendArticles from \"./DisplayRecommendArticles\";\r\nfunction SubViewData({ displayArticle }) {\r\n  return <DisplayRecommendArticles displayArticle={displayArticle} />;\r\n}\r\nexport default SubViewData;\r\n","import \"bulma/css/bulma.css\";\nimport { useState } from \"react\";\nimport DisplayRecommendArticles from \"./DisplayRecommendArticles\";\nimport SubViewData from \"./SubViewData\";\n\nconst DisplaySubview = ({ displayArticle }) => {\n  const { innerWidth: deviceWidth, innerHeight: deviceHeight } = window;\n\n  return (\n    <div\n      className=\"column is-3.5-desktop is-12-mobile box\"\n      // className=\"column is-3.5-desktop is-4-mobile box\"\n      style={{\n        paddingLeft: \"20px\",\n        paddingRight: \"20px\",\n        height: deviceWidth > 768 ? \"84vh\" : \"22vh\",\n        // height: deviceWidth > 768 ? \"84vh\" : \"84vh\",\n        overflowY: \"scroll\",\n      }}\n    >\n      <div className=\"pb-3 pt-3\">\n        <h2 className=\"title is-5 has-text-grey\">おすすめ記事</h2>\n      </div>\n      <div className=\"content\">\n        <SubViewData displayArticle={displayArticle} />\n      </div>\n    </div>\n  );\n};\n\nexport default DisplaySubview;\n","import \"bulma/css/bulma.css\";\nimport { useState } from \"react\";\n\nfunction AreaTab({ setClusterDataUrl, selectCluster, setSelectCluster }) {\n  const [dropdownActive, setDropdownActive] = useState(false);\n\n  const setDataUrl = (url, selectedCluster) => {\n    setClusterDataUrl(url);\n    setSelectCluster(selectedCluster);\n  };\n  return (\n    <div className=\"column is-2\">\n      <div\n        className={dropdownActive ? \"dropdown is-active\" : \"dropdown\"}\n        onClick={() => {\n          setDropdownActive(dropdownActive ^ true);\n        }}\n      >\n        <div className=\"dropdown-trigger\">\n          <button\n            className=\"button\"\n            aria-haspopup=\"true\"\n            aria-controls=\"dropdown-menu\"\n          >\n            <span>{selectCluster}</span>\n            <span className=\"icon is-small\">\n              <i className=\"fas fa-angle-down\"></i>\n            </span>\n          </button>\n        </div>\n        <div className=\"dropdown-menu\" id=\"dropdown-menu\" role=\"menu\">\n          <div className=\"dropdown-content\">\n            <a\n              className=\"dropdown-item\"\n              onClick={() =>\n                setDataUrl(\n                  process.env.PUBLIC_URL + \"/data/cluster1_graph_data.json\",\n                  \"cluster1\"\n                )\n              }\n            >\n              cluster1\n            </a>\n            <a\n              className=\"dropdown-item\"\n              onClick={() =>\n                setDataUrl(\n                  process.env.PUBLIC_URL + \"/data/cluster2_graph_data.json\",\n                  \"cluster2\"\n                )\n              }\n            >\n              cluster2\n            </a>\n            <a\n              className=\"dropdown-item\"\n              onClick={() =>\n                setDataUrl(\n                  process.env.PUBLIC_URL + \"/data/cluster3_graph_data.json\",\n                  \"cluster3\"\n                )\n              }\n            >\n              cluster3\n            </a>\n            <a\n              className=\"dropdown-item\"\n              onClick={() =>\n                setDataUrl(\n                  process.env.PUBLIC_URL + \"/data/cluster4_graph_data.json\",\n                  \"cluster4\"\n                )\n              }\n            >\n              cluster4\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default AreaTab;\n","import \"bulma/css/bulma.css\";\nimport { useState } from \"react\";\n\nfunction Search({\n  tagListData,\n  setClusterDataUrl,\n  setSelectCluster,\n  setSearchTag,\n}) {\n  const handleChange = (e) => {\n    setInputTag(e.target.value);\n  };\n  const handleClick = (inputTag) => {\n    tagListData.map((data, i) => {\n      if (data.includes(inputTag)) {\n        setClusterDataUrl(\n          process.env.PUBLIC_URL +\n            \"/data/cluster\" +\n            (i + 1) +\n            \"_graph_data.json\"\n        );\n        setSelectCluster(\"cluster\" + (i + 1));\n      }\n    });\n    setSearchTag(inputTag);\n    setInputTag(\"\");\n  };\n  const [inputTag, setInputTag] = useState(\"\");\n\n  return (\n    <div className=\"column is-4\">\n      <div className=\"field has-addons\">\n        <input\n          className=\"input\"\n          type=\"text\"\n          name=\"search\"\n          placeholder=\"タグを検索\"\n          value={inputTag}\n          onChange={(e) => handleChange(e)}\n        />\n        <a className=\"button is-success\" onClick={() => handleClick(inputTag)}>\n          <i className=\"fa fa-search\"></i>検索\n        </a>\n      </div>\n    </div>\n  );\n}\n\nexport default Search;\n","import { useState } from \"react\";\r\nfunction DescriptionModal() {\r\n  const [modalActive, setModalActive] = useState(false);\r\n  const showModalHandle = () => {\r\n    setModalActive(true);\r\n  };\r\n  const hideModalHandle = () => {\r\n    setModalActive(false);\r\n  };\r\n  return (\r\n    <div style={{ position: \"absolute\", top: \"0\", right: \"0\" }}>\r\n      <div>\r\n        <div\r\n          className=\"button is-primary is-inverted\"\r\n          onClick={showModalHandle}\r\n        >\r\n          <i\r\n            className=\"far  fa-question-circle\"\r\n            style={{ color: \"#bfbfbf\" }}\r\n          ></i>\r\n        </div>\r\n      </div>\r\n      <div className={modalActive ? \"modal is-active\" : \"modal\"}>\r\n        <div className=\"modal-background\" onClick={hideModalHandle}></div>\r\n        <div className=\"modal-card\">\r\n          <header className=\"modal-card-head\">\r\n            <p className=\"modal-card-title\">マップの使い方</p>\r\n          </header>\r\n          <section className=\"modal-card-body has-text-grey-dark\">\r\n            <div>\r\n              <div>\r\n                <h2 className=\"title has-text-grey-dark is-size-4 mt-2 mb-2\">\r\n                  ①領域選択\r\n                </h2>\r\n                <p>\r\n                  学びたい分野の領域が選択でき、その領域についてのマップに遷移します\r\n                </p>\r\n                <h2 className=\"title has-text-grey-dark is-size-4 mt-2 mb-2\">\r\n                  ②検索機能\r\n                </h2>\r\n                <p>\r\n                  Qiitaタグを検索し、そのタグが含まれる領域のマップに遷移します\r\n                </p>\r\n                <h2 className=\"title has-text-grey-dark is-size-4 mt-2 mb-2\">\r\n                  ③ノード\r\n                </h2>\r\n                <p>\r\n                  ノードをクリックしたら、タグと関連性の高いQiitaの記事が表示されます\r\n                </p>\r\n                <h2 className=\"title has-text-grey-dark is-size-4 mt-2 mb-2\">\r\n                  ④マップ部分{\" \"}\r\n                </h2>\r\n                <p>\r\n                  マウスでマップの拡大縮小ができます\r\n                  マウスでドラックするとマップ内を自由に移動できます\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </section>\r\n          <footer className=\"modal-card-foot\">\r\n            <button\r\n              className=\"button\"\r\n              onClick={hideModalHandle}\r\n              style={{ marginLeft: \"auto\" }}\r\n            >\r\n              閉じる\r\n            </button>\r\n          </footer>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default DescriptionModal;\r\n","import * as d3 from \"d3\";\r\nimport \"bulma/css/bulma.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport ZoomableSVG from \"./ZoomableSVG\";\r\nimport DisplaySubView from \"./DisplaySubview\";\r\nimport AreaTab from \"./AreaTab\";\r\nimport Search from \"./Search\";\r\nimport DescriptionModal from \"./DescriptionModal\";\r\n\r\nfunction D3DirectedGraph() {\r\n  const [articleData, setArticleData] = useState([]);\r\n  const [tagListData, setTagListData] = useState([]);\r\n  const [selectChildNodes, setSelectChildNodes] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [nodes, setNodes] = useState([]);\r\n  const [links, setLinks] = useState([]);\r\n  const [searchTag, setSearchTag] = useState(\"\");\r\n  const [selectCluster, setSelectCluster] = useState(\"cluster1\");\r\n  const [clusterDataUrl, setClusterDataUrl] = useState(\r\n    process.env.PUBLIC_URL + \"/data/cluster1_graph_data.json\"\r\n  );\r\n  // おすすめ記事\r\n  const [displayArticle, setDisplayArticle] = useState([]);\r\n\r\n  // デバイスの横幅を取得\r\n  const { innerWidth: deviceWidth, innerHeight: deviceHeight } = window;\r\n  const svgWidth = deviceWidth > 768 ? deviceWidth * 0.66 : deviceWidth * 0.9;\r\n  const svgHeight = deviceWidth > 768 ? deviceHeight * 0.7 : deviceHeight * 0.3;\r\n\r\n  function clickNode(selectedNode) {\r\n    const target = selectedNode.label;\r\n    const data = articleData.filter((item) => {\r\n      return item.type == target;\r\n    });\r\n    setDisplayArticle(data);\r\n    const childNodes = selectedNode.childNodes.slice();\r\n    childNodes.push(selectedNode.id);\r\n    setSelectChildNodes(childNodes);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const startSimulation = (nodes, links) => {\r\n      const linkLen = 20;\r\n      const simulation = d3\r\n        .forceSimulation()\r\n        .force(\r\n          \"collide\",\r\n          d3\r\n            .forceCollide()\r\n            .radius(function (d) {\r\n              return d.r * 1.5;\r\n            })\r\n            .iterations(64)\r\n        ) //衝突値の設定\r\n        .force(\r\n          \"link\",\r\n          d3\r\n            .forceLink()\r\n            .id((d) => d.id)\r\n            .distance(linkLen)\r\n        ) //stength:linkの強さ（元に戻る力 distance: linkの長さ\r\n        .force(\"charge\", d3.forceManyBody().strength(-100)) //引き合う力を設定。\r\n        .force(\"center\", d3.forceCenter(svgWidth / 2, svgHeight / 2)) //描画するときの中心を設定\r\n        .force(\r\n          \"y\",\r\n          d3\r\n            .forceY()\r\n            .y((d) => 225 * (d.level + 1))\r\n            .strength(1.7)\r\n        ); //y方向に戻る力\r\n\r\n      simulation\r\n        // forceSimulationの影響下にnodesを置く\r\n        .nodes(nodes);\r\n\r\n      // linkデータをセット\r\n      simulation.force(\"link\").links(links);\r\n      simulation.tick(300).stop();\r\n      setNodes(nodes);\r\n      setLinks(links);\r\n      if (searchTag !== \"\") {\r\n        nodes.map((node) => {\r\n          if (node.label === searchTag) {\r\n            clickNode(node);\r\n          }\r\n        });\r\n      }\r\n    };\r\n    const startSetGraphData = async () => {\r\n      const [nodes, links] = await (async () => {\r\n        const response1 = await fetch(clusterDataUrl);\r\n        const data = await response1.json();\r\n\r\n        const response2 = await fetch(\r\n          process.env.PUBLIC_URL + \"/data/tag_list_data.json\"\r\n        );\r\n        const data2 = await response2.json();\r\n        setTagListData(data2);\r\n\r\n        const nodes = Array();\r\n        const links = Array();\r\n\r\n        const r = 35;\r\n        data.map((item) => {\r\n          nodes.push({\r\n            id: item.ID, //nodeのindexを標準設定から変更\r\n            label: item.nodeName,\r\n            url: item.url,\r\n            r,\r\n            level: item.level,\r\n            diff: item.diff,\r\n            childNodes: item.childNode,\r\n          });\r\n          for (const child of item.childNode) {\r\n            links.push({\r\n              source: item.ID,\r\n              target: child,\r\n            });\r\n          }\r\n        });\r\n        setArticleData(\r\n          await (async () => {\r\n            const response = await fetch(\r\n              process.env.PUBLIC_URL + \"/data/recommend_data.json\"\r\n            );\r\n            const data = await response.json();\r\n            return data;\r\n          })()\r\n        );\r\n        return [nodes, links];\r\n      })();\r\n      startSimulation(nodes, links);\r\n      setLoading(false);\r\n    };\r\n    startSetGraphData();\r\n    setDisplayArticle([]);\r\n    setSelectChildNodes([]);\r\n    setSearchTag(\"\");\r\n  }, [clusterDataUrl, searchTag]);\r\n  if (loading) {\r\n    return <div>loading...</div>;\r\n  }\r\n\r\n  const arrowEdgeX = -35;\r\n  const arrowEdgeY = -5;\r\n  const arrowHeight = 10;\r\n  const arrowWidth = 14;\r\n  const arrowEdgeEnd = -25;\r\n\r\n  return (\r\n    <div\r\n      className=\"columns is-mobile is-multiline\"\r\n      style={{\r\n        marginRight: \"20px\",\r\n        marginLeft: \"20px\",\r\n        marginTop: \"20px\",\r\n      }}\r\n    >\r\n      <div\r\n        className=\"column is-8-desktop is-12-mobile box\"\r\n        style={\r\n          deviceWidth > 768\r\n            ? { height: \"84vh\", position: \"relative\" }\r\n            : { height: \"60vh\", position: \"relative\" }\r\n        }\r\n      >\r\n        <div className=\"columns mt-2\" style={{ marginBottom: \"0\" }}>\r\n          <div className=\"column\">\r\n            <DescriptionModal />\r\n            <div className=\"columns is-centered is-multiline\">\r\n              <AreaTab\r\n                setClusterDataUrl={setClusterDataUrl}\r\n                selectCluster={selectCluster}\r\n                setSelectCluster={setSelectCluster}\r\n              />\r\n              <Search\r\n                tagListData={tagListData}\r\n                setClusterDataUrl={setClusterDataUrl}\r\n                setSelectCluster={setSelectCluster}\r\n                setSearchTag={setSearchTag}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          style={{\r\n            height:\r\n              deviceWidth > 768 ? deviceHeight * 0.73 : deviceHeight * 0.4,\r\n          }}\r\n        >\r\n          <ZoomableSVG width={svgWidth} height={svgHeight}>\r\n            <defs>\r\n              <marker\r\n                id=\"arrowhead\"\r\n                viewBox={`${arrowEdgeX} ${arrowEdgeY} ${arrowWidth} ${arrowHeight}`}\r\n                refX=\"13\"\r\n                refY=\"0\"\r\n                orient=\"auto\"\r\n                markerWidth=\"13\"\r\n                markerHeight=\"13\"\r\n                xoverflow=\"visible\"\r\n              >\r\n                <path\r\n                  d={`M ${arrowEdgeX} ${arrowEdgeY} L ${arrowEdgeEnd} 0 L ${arrowEdgeX} ${\r\n                    -1 * arrowEdgeY\r\n                  }`}\r\n                  fill=\"#999\"\r\n                  style={{ stroke: \"none\" }}\r\n                ></path>\r\n              </marker>\r\n            </defs>\r\n\r\n            <g className=\"links\">\r\n              {links.map((link) => {\r\n                return (\r\n                  <line\r\n                    key={link.source.id + \"-\" + link.target.id}\r\n                    stroke={\"black\"}\r\n                    strokeWidth=\"1\"\r\n                    className=\"link\"\r\n                    markerEnd=\"url(#arrowhead)\"\r\n                    id=\"edgepath0\"\r\n                    x1={link.source.x}\r\n                    y1={link.source.y}\r\n                    x2={link.target.x}\r\n                    y2={link.target.y}\r\n                  ></line>\r\n                );\r\n              })}\r\n            </g>\r\n\r\n            <g className=\"nodes\">\r\n              {nodes.map((node) => {\r\n                return (\r\n                  <g className=\"nodes\" key={node.id}>\r\n                    <circle\r\n                      className=\"node\"\r\n                      r={node.r}\r\n                      style={{ fill: \"rgb(128, 255, 191)\" }}\r\n                      cx={node.x}\r\n                      cy={node.y}\r\n                      data-url={node.url}\r\n                      data-name={node.label}\r\n                      stroke={\r\n                        selectChildNodes.includes(node.id)\r\n                          ? \"red\"\r\n                          : \"rgb(128, 255, 191)\"\r\n                      }\r\n                      strokeWidth=\"2\"\r\n                      onClick={() => clickNode(node)}\r\n                    ></circle>\r\n\r\n                    <text\r\n                      className=\"node-label\"\r\n                      textAnchor=\"middle\"\r\n                      fill=\"black\"\r\n                      fontSize={\"15px\"}\r\n                      x={node.x}\r\n                      y={node.y}\r\n                    >\r\n                      {node.label}\r\n                    </text>\r\n                  </g>\r\n                );\r\n              })}\r\n            </g>\r\n          </ZoomableSVG>\r\n        </div>\r\n      </div>\r\n      <DisplaySubView displayArticle={displayArticle} />\r\n    </div>\r\n  );\r\n}\r\nexport default D3DirectedGraph;\r\n","import \"bulma/css/bulma.css\";\nimport { useState, useEffect } from \"react\";\nfunction Header({ setClusterDataUrl }) {\n  const [modalActive, setModalActive] = useState(false);\n  const { innerHeight: deviceHeight } = window;\n  const showModalHandle = () => {\n    setModalActive(true);\n  };\n  const hideModalHandle = () => {\n    setModalActive(false);\n  };\n  return (\n    <div\n      className=\"hero is-small is-primary\"\n      style={{ height: deviceHeight * 0.1 }}\n    >\n      <section className=\"section hero-body\">\n        <div className=\"container\">\n          <div className=\"columns is-mobile is-centered \">\n            <div className=\"column is-5\">\n              <h1 className=\"title is-size-3-desktop is-size-5-mobile has-text-centered\">\n                QiitaViz-legends\n              </h1>\n            </div>\n            <div className=\"column is-narrow\">\n              <a className=\"button is-small\" onClick={showModalHandle}>\n                このサイトについて\n              </a>\n            </div>\n          </div>\n          <div className={modalActive ? \"modal is-active\" : \"modal\"}>\n            <div className=\"modal-background\" onClick={hideModalHandle}></div>\n            <div className=\"modal-card\">\n              <header className=\"modal-card-head\">\n                <p className=\"modal-card-title\">このサイトについて</p>\n              </header>\n              <section className=\"modal-card-body has-text-grey-dark\">\n                <h2 className=\"title has-text-grey-dark is-size-4 mt-2 mb-2\">\n                  Qiitaのタグの繋がりを可視化したサービスです\n                </h2>\n                <p>\n                  本サービスは、Qiita特有の『タグ』に注目して、タグごとの人気度やタグ同士の関係性を算出しマップを作成しています。\n                  タグに着目することで、プログラミング初学者が学びたい分野と他分野の関係性がわかり、効率よく学べる支援になると思います。\n                  また、学習内容とマッチするQiita記事にも遷移できるのも本サービスの特徴です\n                </p>\n                <h2 className=\"title has-text-grey-dark is-size-4 mt-2 mb-2\">\n                  サービス構築に用いた参考文献\n                </h2>\n                <h3 className=\"subtitle has-text-grey-dark is-size-5 mt-2 mb-2\">\n                  大川英樹,関亜紀子,技術解説記事の難易度分類による検索支援\n                </h3>\n                <p>\n                  日本大学生産工学部学術講演会講演概要(CD-ROM),2018,51st,p-13.(online),\n                  <br />\n                  http://www.cit.nihon-u.ac.jp/laboratorydata/kenkyu/kouennkai/reference/No.51/pdf/P-13.pdf\n                </p>\n                <h3 className=\"subtitle has-text-grey-dark is-size-5 mt-2 mb-2\">\n                  山河絵利奈,田島 敬史,ウィキペディアを利用した単語の難易度推定\n                </h3>\n                <p>\n                  DEIMフォーラム2021,2021,F25-2.(online),\n                  <br />\n                  https://proceedings-of-deim.github.io/DEIM2021/papers/F25-2.pdf\n                </p>\n                <h3 className=\"subtitle has-text-grey-dark is-size-5 mt-2 mb-2\">\n                  西原 陽子,砂山 渡,谷内田 正彦,Web\n                  ページの難易度と学習順序に基づく情報理解支援システム\n                </h3>\n                <p>\n                  電子情報通信学会論文誌. D,情報・システム/\n                  電子情報通信学会,2006,編89(9) (通号 417),p.1963-1975.(online),\n                  <br />\n                  https://www.panda.sys.t.u-tokyo.ac.jp/nishihara/pdf/singaku06.pdf\n                </p>\n              </section>\n              <footer className=\"modal-card-foot\">\n                <button\n                  className=\"button\"\n                  onClick={hideModalHandle}\n                  style={{ marginLeft: \"auto\" }}\n                >\n                  閉じる\n                </button>\n              </footer>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n\nexport default Header;\n","import \"bulma/css/bulma.css\";\n\nconst Footer = () => {\n  return (\n    <footer className=\"footer has-background-white-ter\">\n      <div className=\"content has-text-centered\">\n        <p>2021 QiitaViz</p>\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import D3DirectedGraph from \"./components/D3DirectedGraph\";\nimport \"bulma/css/bulma.css\";\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nconst App = () => {\n  return (\n    <div>\n      <Header />\n      <section style={{ minHeight: \"90vh\" }}>\n        <D3DirectedGraph />\n      </section>\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n","import { render } from \"react-dom\";\nimport App from \"./App\";\n\nrender(<App />, document.querySelector(\"#content\"));"],"sourceRoot":""}