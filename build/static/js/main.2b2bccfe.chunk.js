(this["webpackJsonpqiita-vis2021"]=this["webpackJsonpqiita-vis2021"]||[]).push([[0],{68:function(e,t,c){"use strict";c.r(t);var s=c(30),n=c(8),a=c.n(n),r=c(10),i=c(19),o=c(6),d=c(9),l=(c(28),c(1)),j=c(0);var b=function(e){var t=e.children,c=e.width,s=e.height,n=Object(l.useRef)(),a=Object(l.useState)(1),r=Object(o.a)(a,2),i=r[0],b=r[1],h=Object(l.useState)(0),u=Object(o.a)(h,2),x=u[0],O=u[1],m=Object(l.useState)(0),f=Object(o.a)(m,2),p=f[0],v=f[1];return Object(l.useEffect)((function(){var e=d.h().on("zoom",(function(e){var t=e.transform,c=t.x,s=t.y,n=t.k;b(n),O(c),v(s)}));d.g(n.current).call(e)}),[]),Object(j.jsx)("svg",{ref:n,width:c,height:s,className:"has-background-white",style:{display:"block",marginLeft:"auto",marginRight:"auto"},children:Object(j.jsx)("g",{transform:"translate(".concat(x,", ").concat(p,")scale(").concat(i,")"),children:t})})};var h=function(){var e=599,t=Object(l.useState)([]),c=Object(o.a)(t,2),s=c[0],n=c[1],h=Object(l.useState)(!0),u=Object(o.a)(h,2),x=u[0],O=u[1],m=Object(l.useState)([]),f=Object(o.a)(m,2),p=f[0],v=f[1],N=Object(l.useState)([]),w=Object(o.a)(N,2),g=w[0],y=w[1],k=Object(l.useState)([]),S=Object(o.a)(k,2),L=S[0],z=S[1],A=Object(l.useState)([]),E=Object(o.a)(A,2),W=E[0],q=E[1],I=window.innerWidth,M=I<=e?.9*I:.8*I,_=I<=e?1500:1100;function D(t){var c=t.currentTarget.dataset.name,n=s.filter((function(e){return e.type==c})),a=I<=e?"500":t.pageX,r=t.pageY;z(n),q([a,r])}return Object(l.useEffect)((function(){var e=function(e,t){var c=d.e().force("collide",d.b().radius((function(e){return e.r})).iterations(16)).force("link",d.c().distance((function(e){return 150})).id((function(e){return e.id}))).force("charge",d.d().strength(-500)).force("center",d.a(M/2,_/2)).force("x",d.f().x(M/2).strength(.1));c.nodes(e),c.force("link").links(t),c.tick(300).stop(),v(e.slice()),y(t.slice())};(function(){var t=Object(i.a)(a.a.mark((function t(){var c,s,d,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.a)(a.a.mark((function e(){var t,c,s,n,i,o,d,l,j,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("ordered_data.json");case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,s=Array(),n=Array(),35,i=Object(r.a)(c);try{for(i.s();!(o=i.n()).done;){d=o.value,s.push({id:d.ID,label:d.nodeName,url:d.url,r:35}),l=Object(r.a)(d.childNode);try{for(l.s();!(j=l.n()).done;)b=j.value,n.push({source:d.ID,target:b})}catch(a){l.e(a)}finally{l.f()}}}catch(a){i.e(a)}finally{i.f()}return e.abrupt("return",[s,n]);case 12:case"end":return e.stop()}}),e)})))();case 2:return c=t.sent,s=Object(o.a)(c,2),d=s[0],l=s[1],t.t0=n,t.next=9,Object(i.a)(a.a.mark((function e(){var t,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("article_data.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))();case 9:t.t1=t.sent,(0,t.t0)(t.t1),e(d,l),O(!1);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),x?Object(j.jsx)("div",{}):Object(j.jsxs)("div",{children:[Object(j.jsxs)(b,{width:M,height:_,children:[Object(j.jsx)("defs",{children:Object(j.jsx)("marker",{id:"arrowhead",viewBox:"".concat(-35," ").concat(-5," ").concat(14," ").concat(10),refX:"13",refY:"0",orient:"auto",markerWidth:"13",markerHeight:"13",xoverflow:"visible",children:Object(j.jsx)("path",{d:"M ".concat(-35," ").concat(-5," L ").concat(-25," 0 L ").concat(-35," ").concat(5),fill:"#999",style:{stroke:"none"}})})}),Object(j.jsx)("g",{className:"links",children:g.map((function(e){return Object(j.jsx)("line",{stroke:"black",strokeWidth:"1",className:"link",markerEnd:"url(#arrowhead)",id:"edgepath0",x1:e.source.x,y1:e.source.y,x2:e.target.x,y2:e.target.y},e.source.id+"-"+e.target.id)}))}),Object(j.jsx)("g",{className:"nodes",children:p.map((function(e){return Object(j.jsxs)("g",{className:"nodes",children:[Object(j.jsx)("circle",{className:"node",r:e.r,style:{fill:"rgb(128, 255, 191)"},cx:e.x,cy:e.y,"data-url":e.url,"data-name":e.label,onMouseEnter:D}),Object(j.jsx)("text",{className:"node-label",textAnchor:"middle",fill:"black",fontSize:"15px",x:e.x,y:e.y,children:e.label})]},e.id)}))})]}),Object(j.jsx)("div",{className:L.length>0?"card show popup":"card popup",style:{position:"absolute",left:W[0],top:W[1]},onMouseLeave:function(e){z([])},children:Object(j.jsx)("div",{className:"card-content",children:Object(j.jsxs)("div",{className:"content",children:[Object(j.jsx)("p",{children:"\u304a\u3059\u3059\u3081\u306e\u8a18\u4e8b"}),L.map((function(e,t){return Object(j.jsx)("p",{children:Object(j.jsx)("a",{href:e.url,target:"_blank",children:e.title})},t)}))]})})})]})},u=c(11),x=c(2);function O(){return Object(j.jsx)("section",{className:"section has-background-white-bis",style:{minHeight:"1000px"},children:Object(j.jsxs)(x.c,{children:[Object(j.jsx)(x.a,{path:"/",exact:!0,children:Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"columns is-centered",children:[Object(j.jsx)(f,{}),Object(j.jsx)(p,{})]}),Object(j.jsx)(h,{})]})}),Object(j.jsx)(x.a,{path:"/usage",children:Object(j.jsx)("div",{children:"\u4f7f\u3044\u65b9\u3060\u3088\uff01"})}),Object(j.jsx)(x.a,{path:"/description",children:Object(j.jsx)("div",{children:"\u3053\u306e\u30b5\u30a4\u30c8\u3067\u3067\u304d\u308b\u3053\u3068\u3060\u3088\uff01"})}),Object(j.jsx)(x.a,{path:"/references",children:Object(j.jsx)("div",{children:"\u53c2\u8003\u6587\u732e\u3060\u3088\uff01"})})]})})}function m(){return Object(j.jsx)("div",{className:"hero is-small is-primary",children:Object(j.jsx)("section",{className:"section hero-body",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"columns",children:[Object(j.jsx)("div",{className:"column is-one-third is-offset-one-third",children:Object(j.jsx)("h1",{className:"title is-3 has-text-centered",children:"2021QiitaViz-legends"})}),Object(j.jsx)(v,{})]})})})})}function f(){return Object(j.jsx)("div",{className:"column is-one-fifth",children:Object(j.jsxs)("div",{className:"dropdown is-hoverable",children:[Object(j.jsx)("div",{className:"dropdown-trigger",children:Object(j.jsxs)("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu",children:[Object(j.jsx)("span",{children:"\u9818\u57df\u3092\u9078\u629e"}),Object(j.jsx)("span",{className:"icon is-small",children:Object(j.jsx)("i",{className:"fas fa-angle-down"})})]})}),Object(j.jsx)("div",{className:"dropdown-menu",id:"dropdown-menu",role:"menu",children:Object(j.jsxs)("div",{className:"dropdown-content",children:[Object(j.jsx)("a",{href:"#",className:"dropdown-item",children:"Web"}),Object(j.jsx)("a",{href:"#",className:"dropdown-item",children:"IOS"}),Object(j.jsx)("a",{href:"#",className:"dropdown-item",children:"Android"})]})})]})})}function p(){return Object(j.jsx)("div",{className:"column is-one-fifth",children:Object(j.jsxs)("div",{className:"field has-addons",style:{marginLeft:"0"},children:[Object(j.jsx)("div",{className:"control",children:Object(j.jsx)("input",{className:"input",type:"text",name:"search",placeholder:"\u30bf\u30b0\u3092\u691c\u7d22"})}),Object(j.jsx)("div",{className:"control",children:Object(j.jsxs)("a",{className:"button is-success",children:[Object(j.jsx)("i",{className:"fa fa-search"}),"\u691c\u7d22"]})})]})})}function v(){return Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"dropdown is-hoverable",children:[Object(j.jsx)("div",{className:"dropdown-trigger",children:Object(j.jsxs)("button",{className:"button is-primary","aria-haspopup":"true","aria-controls":"dropdown-menu",children:[Object(j.jsx)("span",{className:"has-text-weight-bold",children:"\u30e1\u30cb\u30e5\u30fc"}),Object(j.jsx)("span",{className:"icon is-small",children:Object(j.jsx)("i",{className:"fas fa-angle-down"})})]})}),Object(j.jsx)("div",{className:"dropdown-menu",id:"dropdown-menu",role:"menu",children:Object(j.jsxs)("div",{className:"dropdown-content",children:[Object(j.jsx)(u.b,{className:"dropdown-item",to:"/",children:"\u30db\u30fc\u30e0"}),Object(j.jsx)(u.b,{className:"dropdown-item",to:"/usage",children:"\u4f7f\u3044\u65b9"}),Object(j.jsx)(u.b,{className:"dropdown-item",to:"/description",children:"\u3053\u306e\u30b5\u30a4\u30c8\u3067\u3067\u304d\u308b\u3053\u3068"}),Object(j.jsx)(u.b,{className:"dropdown-item",to:"/references",children:"\u53c2\u8003\u6587\u732e"})]})})]})})}function N(){return Object(j.jsx)("footer",{className:"footer has-background-white-ter",children:Object(j.jsx)("div",{className:"content has-text-centered",children:Object(j.jsx)("p",{children:"2021 QiitaViz"})})})}var w=function(){return Object(j.jsx)(u.a,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)(m,{}),Object(j.jsx)(O,{}),Object(j.jsx)(N,{})]})})};Object(s.render)(Object(j.jsx)(w,{}),document.querySelector("#content"))}},[[68,1,2]]]);
//# sourceMappingURL=main.2b2bccfe.chunk.js.map