(this["webpackJsonpqiita-vis2021"]=this["webpackJsonpqiita-vis2021"]||[]).push([[0],{50:function(e,c,t){"use strict";t.r(c);var s=t(18),n=t(4),a=t.n(n),r=t(5),i=t(12),l=t(2),d=t(3),j=(t(6),t(1)),o=t(0);var b=function(e){var c=e.children,t=(e.width,e.height,Object(j.useRef)()),s=Object(j.useState)(1),n=Object(l.a)(s,2),a=n[0],r=n[1],i=Object(j.useState)(0),b=Object(l.a)(i,2),h=b[0],u=b[1],x=Object(j.useState)(0),O=Object(l.a)(x,2),m=O[0],f=O[1];return Object(j.useEffect)((function(){var e=d.h().on("zoom",(function(e){var c=e.transform,t=c.x,s=c.y,n=c.k;r(n),u(t),f(s)}));e.scaleExtent([.5,2]),d.g(t.current).call(e)}),[]),Object(o.jsx)("svg",{ref:t,width:"100%",height:"100%",className:"has-background-white",style:{display:"block",marginLeft:"auto",marginRight:"auto"},children:Object(o.jsx)("g",{transform:"translate(".concat(h,", ").concat(m,")scale(").concat(a,")"),children:c})})},h=function(e){var c=e.displayArticle;return Object(o.jsx)("div",{children:Object(o.jsx)("div",{children:c.map((function(e,c){return Object(o.jsx)("p",{children:Object(o.jsx)("a",{href:e.url,target:"_blank",children:e.title})},c)}))})})};var u=function(e){var c=e.req,t=e.displayArticle;return"article"===c?Object(o.jsx)(h,{displayArticle:t}):"usage"===c?Object(o.jsx)("div",{children:Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{children:"\u9818\u57df\u3092\u9078\u629e\u3067\u304d\u308b\u6a5f\u80fd"}),"\u30e6\u30fc\u30b6\u30fc\u304c\u6c17\u306b\u306a\u308b\u9818\u57df\u3092\u9078\u629e\u3057\u305f\u3089\u3001\u305d\u306e\u9818\u57df\u306b\u3064\u3044\u3066\u306e\u30de\u30c3\u30d7\u304c\u8868\u793a\u3055\u308c\u307e\u3059 \u30d5\u30ed\u30f3\u30c8 \u30d0\u30c3\u30af iOS",Object(o.jsx)("p",{children:"\u30bf\u30b0\u306e\u691c\u7d22\u6a5f\u80fd"}),"\u30bf\u30b0\u3092\u691c\u7d22\u3057\u3066\u305d\u306e\u30bf\u30b0\u304c\u542b\u307e\u308c\u308b\u9818\u57df\u306e\u30de\u30c3\u30d7\u306b\u9077\u79fb\u3057\u307e\u3059",Object(o.jsx)("p",{children:"\u30ce\u30fc\u30c9\u3092\u30de\u30a6\u30b9\u30db\u30d0\u30fc\u3057\u305f\u3089\u3001Qiita\u306e\u8a18\u4e8b\u306b\u98db\u3079\u308b"}),"\u30e6\u30fc\u30b6\u30fc\u306e\u30ec\u30d9\u30eb\u306b\u5408\u308f\u305b\u305f\u30bf\u30b0\u306e\u8a18\u4e8b\u304c\u8868\u793a\u3055\u308c\u307e\u3059",Object(o.jsx)("p",{children:"\u30de\u30c3\u30d7\u90e8\u5206"}),"\u30de\u30a6\u30b9\u3067\u30de\u30c3\u30d7\u306e\u62e1\u5927\u7e2e\u5c0f\u304c\u3067\u304d\u308b \u30de\u30a6\u30b9\u3067\u30c9\u30e9\u30c3\u30af\u3059\u308b\u3068\u30de\u30c3\u30d7\u3092\u81ea\u7531\u306b\u79fb\u52d5\u3067\u304d\u308b"]})}):"reference"===c?Object(o.jsx)("div",{children:Object(o.jsx)("div",{children:"\u53c2\u8003\u6587\u732e\u3060\u3088\uff01"})}):void 0},x=function(e){var c=e.displayArticle,t=Object(j.useState)("usage"),s=Object(l.a)(t,2),n=s[0],a=s[1];return Object(o.jsxs)("div",{className:"column is-4-desktop is-6-mobile box",style:{marginLeft:"10px",paddingLeft:"40px",paddingRight:"40px",height:"84vh",overflowY:"scroll"},children:[Object(o.jsx)("div",{className:"tabs",children:Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{className:"article"===n?"is-active":"",children:Object(o.jsx)("a",{onClick:function(){a("article")},children:"\u304a\u3059\u3059\u3081\u8a18\u4e8b"})}),Object(o.jsx)("li",{className:"usage"===n?"is-active":"",children:Object(o.jsx)("a",{onClick:function(){a("usage")},children:"\u4f7f\u3044\u65b9"})}),Object(o.jsx)("li",{className:"reference"===n?"is-active":"",children:Object(o.jsx)("a",{onClick:function(){a("reference")},children:"\u53c2\u8003\u6587\u732e"})})]})}),Object(o.jsx)("div",{className:"content",children:Object(o.jsx)(u,{req:n,displayArticle:c})})]})};var O=function(){return Object(o.jsx)("div",{className:"column is-2",children:Object(o.jsxs)("div",{className:"dropdown is-hoverable",children:[Object(o.jsx)("div",{className:"dropdown-trigger",children:Object(o.jsxs)("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu",children:[Object(o.jsx)("span",{children:"\u9818\u57df\u3092\u9078\u629e"}),Object(o.jsx)("span",{className:"icon is-small",children:Object(o.jsx)("i",{className:"fas fa-angle-down"})})]})}),Object(o.jsx)("div",{className:"dropdown-menu",id:"dropdown-menu",role:"menu",children:Object(o.jsxs)("div",{className:"dropdown-content",children:[Object(o.jsx)("a",{href:"#",className:"dropdown-item",children:"Web"}),Object(o.jsx)("a",{href:"#",className:"dropdown-item",children:"IOS"}),Object(o.jsx)("a",{href:"#",className:"dropdown-item",children:"Android"})]})})]})})};var m=function(){return Object(o.jsx)("div",{className:"column is-4",children:Object(o.jsxs)("div",{className:"field has-addons",children:[Object(o.jsx)("div",{className:"control",children:Object(o.jsx)("input",{className:"input",type:"text",name:"search",placeholder:"\u30bf\u30b0\u3092\u691c\u7d22"})}),Object(o.jsx)("div",{className:"control",children:Object(o.jsxs)("a",{className:"button is-success",children:[Object(o.jsx)("i",{className:"fa fa-search"}),"\u691c\u7d22"]})})]})})};var f=function(){var e=Object(j.useState)([]),c=Object(l.a)(e,2),t=c[0],s=c[1],n=Object(j.useState)(!0),h=Object(l.a)(n,2),u=h[0],f=h[1],p=Object(j.useState)([]),v=Object(l.a)(p,2),g=v[0],N=v[1],y=Object(j.useState)([]),k=Object(l.a)(y,2),w=k[0],S=k[1],A=Object(j.useState)([]),C=Object(l.a)(A,2),L=C[0],q=C[1],z=window,E=z.innerWidth,Q=z.innerHeight,R=.66*E,W=.7*Q;function I(e){var c=e.currentTarget.dataset.name,s=t.filter((function(e){return e.type==c}));q(s)}return Object(j.useEffect)((function(){var e=function(e,c){var t=d.e().force("collide",d.b().radius((function(e){return e.r})).iterations(16)).force("link",d.c().distance((function(e){return 150})).id((function(e){return e.id}))).force("charge",d.d().strength(-500)).force("center",d.a(R/2,W/2)).force("x",d.f().x(R/2).strength(.1));t.nodes(e),t.force("link").links(c),t.tick(300).stop(),N(e.slice()),S(c.slice())};(function(){var c=Object(i.a)(a.a.mark((function c(){var t,n,d,j;return a.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(i.a)(a.a.mark((function e(){var c,t,s,n,i,l,d,j,o,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./data/new_data.json");case 2:return c=e.sent,e.next=5,c.json();case 5:t=e.sent,s=Array(),n=Array(),35,i=Object(r.a)(t);try{for(i.s();!(l=i.n()).done;){d=l.value,s.push({id:d.ID,label:d.nodeName,url:d.url,r:35}),j=Object(r.a)(d.childNode);try{for(j.s();!(o=j.n()).done;)b=o.value,n.push({source:d.ID,target:b})}catch(a){j.e(a)}finally{j.f()}}}catch(a){i.e(a)}finally{i.f()}return e.abrupt("return",[s,n]);case 12:case"end":return e.stop()}}),e)})))();case 2:return t=c.sent,n=Object(l.a)(t,2),d=n[0],j=n[1],c.t0=s,c.next=9,Object(i.a)(a.a.mark((function e(){var c,t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("article_data.json");case 2:return c=e.sent,e.next=5,c.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))();case 9:c.t1=c.sent,(0,c.t0)(c.t1),e(d,j),f(!1);case 13:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}})()()}),[]),u?Object(o.jsx)("div",{children:"loading..."}):Object(o.jsxs)("div",{className:"columns is-mobile",style:{marginRight:"20px",marginLeft:"20px",marginTop:"20px"},children:[Object(o.jsxs)("div",{className:"column is-8-desktop is-6-mobile box",style:{height:"84vh"},children:[Object(o.jsxs)("div",{className:"columns is-centered",children:[Object(o.jsx)(O,{}),Object(o.jsx)(m,{})]}),Object(o.jsx)("div",{style:{height:E<=845?.66*Q:.74*Q},children:Object(o.jsxs)(b,{width:R,height:W,children:[Object(o.jsx)("defs",{children:Object(o.jsx)("marker",{id:"arrowhead",viewBox:"".concat(-35," ").concat(-5," ").concat(14," ").concat(10),refX:"13",refY:"0",orient:"auto",markerWidth:"13",markerHeight:"13",xoverflow:"visible",children:Object(o.jsx)("path",{d:"M ".concat(-35," ").concat(-5," L ").concat(-25," 0 L ").concat(-35," ").concat(5),fill:"#999",style:{stroke:"none"}})})}),Object(o.jsx)("g",{className:"links",children:w.map((function(e){return Object(o.jsx)("line",{stroke:"black",strokeWidth:"1",className:"link",markerEnd:"url(#arrowhead)",id:"edgepath0",x1:e.source.x,y1:e.source.y,x2:e.target.x,y2:e.target.y},e.source.id+"-"+e.target.id)}))}),Object(o.jsx)("g",{className:"nodes",children:g.map((function(e){return Object(o.jsxs)("g",{className:"nodes",children:[Object(o.jsx)("circle",{className:"node",r:e.r,style:{fill:"rgb(128, 255, 191)"},cx:e.x,cy:e.y,"data-url":e.url,"data-name":e.label,onClick:I}),Object(o.jsx)("text",{className:"node-label",textAnchor:"middle",fill:"black",fontSize:"15px",x:e.x,y:e.y,children:e.label})]},e.id)}))})]})})]}),Object(o.jsx)(x,{displayArticle:L})]})};var p=function(){var e=Object(j.useState)(!1),c=Object(l.a)(e,2),t=c[0],s=c[1],n=function(){console.log("aa"),s(!1)};return Object(o.jsx)("div",{className:"hero is-small is-primary",style:{height:"10%"},children:Object(o.jsx)("section",{className:"section hero-body",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"columns",children:Object(o.jsxs)("div",{className:"column",children:[Object(o.jsx)("h1",{className:"title is-size-3 has-text-centered",children:"QiitaViz-legends"}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{class:"button",onClick:function(){s(!0)},children:"\u3053\u306e\u30b5\u30a4\u30c8\u306b\u3064\u3044\u3066"})}),Object(o.jsxs)("div",{class:t?"modal is-active":"modal",children:[Object(o.jsx)("div",{class:"modal-background",onClick:n}),Object(o.jsxs)("div",{class:"modal-card",children:[Object(o.jsx)("header",{class:"modal-card-head",children:Object(o.jsx)("p",{class:"modal-card-title",children:"\u3053\u306e\u30b5\u30a4\u30c8\u306b\u3064\u3044\u3066"})}),Object(o.jsxs)("section",{class:"modal-card-body",style:{color:"black"},children:[Object(o.jsx)("p",{children:"\u3053\u306e\u30b5\u30a4\u30c8\u3067\u3067\u304d\u308b\u3053\u3068"}),Object(o.jsx)("p",{children:"Qiita\u306e\u30bf\u30b0\u3092\u7528\u3044\u3066\u3044\u308b\u3053\u3068\u306e\u8aac\u660e\u3092\u5165\u308c\u308b"}),Object(o.jsx)("p",{children:"\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u521d\u5b66\u8005\u306e\u5b66\u7fd2\u652f\u63f4\uff08\u3068\u3063\u304b\u304b\u308a\uff09 \u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u521d\u5b66\u8005\u304c\u5b66\u3076\u3079\u304d\u9806\u756a\u304c\u30de\u30c3\u30d7\u3092\u898b\u308b\u3053\u3068\u3067\u306f\u3063\u304d\u308a\u3059\u308b \u5b66\u3073\u305f\u3044\u30bf\u30b0\u3068\u4ed6\u306e\u30bf\u30b0\u3068\u306e\u95a2\u4fc2\u6027\u304c\u308f\u304b\u308b \u5b66\u7fd2\u5185\u5bb9\u3068\u30de\u30c3\u30c1\u3059\u308bQiita\u306e\u8a18\u4e8b\u306b\u79fb\u884c\u3067\u304d\u308b"})]}),Object(o.jsx)("footer",{class:"modal-card-foot",children:Object(o.jsx)("button",{class:"button",onClick:n,style:{marginLeft:"auto"},children:"\u9589\u3058\u308b"})})]})]})]})})})})})},v=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(p,{}),Object(o.jsx)("section",{children:Object(o.jsx)(f,{})})]})};Object(s.render)(Object(o.jsx)(v,{}),document.querySelector("#content"))}},[[50,1,2]]]);
//# sourceMappingURL=main.e609446f.chunk.js.map