(this["webpackJsonpqiita-vis2021"]=this["webpackJsonpqiita-vis2021"]||[]).push([[0],{50:function(e,t,c){"use strict";c.r(t);var s=c(18),n=c(4),a=c.n(n),r=c(5),i=c(12),o=c(2),l=c(3),d=(c(7),c(1)),j=c(0);var u=function(e){var t=e.children,c=(e.width,e.height,Object(d.useRef)()),s=Object(d.useState)(1),n=Object(o.a)(s,2),a=n[0],r=n[1],i=Object(d.useState)(0),u=Object(o.a)(i,2),b=u[0],h=u[1],x=Object(d.useState)(0),m=Object(o.a)(x,2),O=m[0],f=m[1];return Object(d.useEffect)((function(){var e=l.h().on("zoom",(function(e){var t=e.transform,c=t.x,s=t.y,n=t.k;r(n),h(c),f(s)}));e.scaleExtent([.5,2]),l.g(c.current).call(e)}),[]),Object(j.jsx)("svg",{ref:c,width:"100%",height:"100%",className:"has-background-white",style:{display:"block",marginLeft:"auto",marginRight:"auto"},children:Object(j.jsx)("g",{transform:"translate(".concat(b,", ").concat(O,")scale(").concat(a,")"),children:t})})};var b=function(){var e=Object(d.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1],n=Object(d.useState)(!0),b=Object(o.a)(n,2),h=b[0],x=b[1],m=Object(d.useState)([]),O=Object(o.a)(m,2),f=O[0],p=O[1],v=Object(d.useState)([]),g=Object(o.a)(v,2),N=g[0],w=g[1],y=Object(d.useState)([]),k=Object(o.a)(y,2),S=k[0],z=k[1],E=Object(d.useState)([]),L=Object(o.a)(E,2),A=L[0],W=L[1],q=window.innerWidth,I=.66*q,M=q<=599?1500:1100;function R(e){var t=e.currentTarget.dataset.name,s=c.filter((function(e){return e.type==t})),n=q<=599?"500":e.pageX,a=e.pageY;z(s),W([n,a])}return Object(d.useEffect)((function(){var e=function(e,t){var c=l.e().force("collide",l.b().radius((function(e){return e.r})).iterations(16)).force("link",l.c().distance((function(e){return 150})).id((function(e){return e.id}))).force("charge",l.d().strength(-500)).force("center",l.a(I/2,M/2)).force("x",l.f().x(I/2).strength(.1));c.nodes(e),c.force("link").links(t),c.tick(300).stop(),p(e.slice()),w(t.slice())};(function(){var t=Object(i.a)(a.a.mark((function t(){var c,n,l,d;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.a)(a.a.mark((function e(){var t,c,s,n,i,o,l,d,j,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./data/new_data.json");case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,s=Array(),n=Array(),35,i=Object(r.a)(c);try{for(i.s();!(o=i.n()).done;){l=o.value,s.push({id:l.ID,label:l.nodeName,url:l.url,r:35}),d=Object(r.a)(l.childNode);try{for(d.s();!(j=d.n()).done;)u=j.value,n.push({source:l.ID,target:u})}catch(a){d.e(a)}finally{d.f()}}}catch(a){i.e(a)}finally{i.f()}return e.abrupt("return",[s,n]);case 12:case"end":return e.stop()}}),e)})))();case 2:return c=t.sent,n=Object(o.a)(c,2),l=n[0],d=n[1],t.t0=s,t.next=9,Object(i.a)(a.a.mark((function e(){var t,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("article_data.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))();case 9:t.t1=t.sent,(0,t.t0)(t.t1),e(l,d),x(!1);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),h?Object(j.jsx)("div",{children:"loading..."}):Object(j.jsxs)("div",{className:"columns is-mobile",style:{height:"80vh",marginRight:"20px",marginLeft:"20px",marginTop:"20px"},children:[Object(j.jsx)("div",{className:"column is-8 box",style:{marginBottom:"0"},children:Object(j.jsxs)(u,{width:I,height:M,children:[Object(j.jsx)("defs",{children:Object(j.jsx)("marker",{id:"arrowhead",viewBox:"".concat(-35," ").concat(-5," ").concat(14," ").concat(10),refX:"13",refY:"0",orient:"auto",markerWidth:"13",markerHeight:"13",xoverflow:"visible",children:Object(j.jsx)("path",{d:"M ".concat(-35," ").concat(-5," L ").concat(-25," 0 L ").concat(-35," ").concat(5),fill:"#999",style:{stroke:"none"}})})}),Object(j.jsx)("g",{className:"links",children:N.map((function(e){return Object(j.jsx)("line",{stroke:"black",strokeWidth:"1",className:"link",markerEnd:"url(#arrowhead)",id:"edgepath0",x1:e.source.x,y1:e.source.y,x2:e.target.x,y2:e.target.y},e.source.id+"-"+e.target.id)}))}),Object(j.jsx)("g",{className:"nodes",children:f.map((function(e){return Object(j.jsxs)("g",{className:"nodes",children:[Object(j.jsx)("circle",{className:"node",r:e.r,style:{fill:"rgb(128, 255, 191)"},cx:e.x,cy:e.y,"data-url":e.url,"data-name":e.label,onMouseEnter:R}),Object(j.jsx)("text",{className:"node-label",textAnchor:"middle",fill:"black",fontSize:"15px",x:e.x,y:e.y,children:e.label})]},e.id)}))})]})}),Object(j.jsx)("div",{className:S.length>0?"card show popup":"card popup",style:{position:"absolute",left:A[0],top:A[1]},onMouseLeave:function(e){z([])},children:Object(j.jsx)("div",{className:"card-content",children:Object(j.jsxs)("div",{className:"content",children:[Object(j.jsx)("p",{children:"\u304a\u3059\u3059\u3081\u306e\u8a18\u4e8b"}),S.map((function(e,t){return Object(j.jsx)("p",{children:Object(j.jsx)("a",{href:e.url,target:"_blank",children:e.title})},t)}))]})})}),Object(j.jsx)("div",{className:"column is-4 box",children:Object(j.jsx)("p",{children:"\u30b5\u30d6\u30d3\u30e5\u30fc"})})]})};var h=function(){return Object(j.jsx)("div",{className:"column is-5-mobile is-2-desktop",children:Object(j.jsxs)("div",{className:"dropdown is-hoverable",children:[Object(j.jsx)("div",{className:"dropdown-trigger",children:Object(j.jsxs)("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu",children:[Object(j.jsx)("span",{children:"\u9818\u57df\u3092\u9078\u629e"}),Object(j.jsx)("span",{className:"icon is-small",children:Object(j.jsx)("i",{className:"fas fa-angle-down"})})]})}),Object(j.jsx)("div",{className:"dropdown-menu",id:"dropdown-menu",role:"menu",children:Object(j.jsxs)("div",{className:"dropdown-content",children:[Object(j.jsx)("a",{href:"#",className:"dropdown-item",children:"Web"}),Object(j.jsx)("a",{href:"#",className:"dropdown-item",children:"IOS"}),Object(j.jsx)("a",{href:"#",className:"dropdown-item",children:"Android"})]})})]})})};var x=function(){return Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"field has-addons",style:{},children:[Object(j.jsx)("div",{className:"control",children:Object(j.jsx)("input",{className:"input",type:"text",name:"search",placeholder:"\u30bf\u30b0\u3092\u691c\u7d22"})}),Object(j.jsx)("div",{className:"control",children:Object(j.jsxs)("a",{className:"button is-success",children:[Object(j.jsx)("i",{className:"fa fa-search"}),"\u691c\u7d22"]})})]})})};var m=function(){return Object(j.jsx)("div",{className:"hero is-small is-primary",style:{height:"10vh"},children:Object(j.jsx)("section",{className:"section hero-body",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"columns is-mobile",children:[Object(j.jsx)("div",{className:"column is-3-mobile",children:Object(j.jsx)("h1",{className:"title is-size-3-desktop is-size-7-mobile has-text-centered",children:"QiitaViz-legends"})}),Object(j.jsx)(h,{}),Object(j.jsx)(x,{})]})})})})},O=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)(m,{}),Object(j.jsx)("section",{children:Object(j.jsx)(b,{})})]})};Object(s.render)(Object(j.jsx)(O,{}),document.querySelector("#content"))}},[[50,1,2]]]);
//# sourceMappingURL=main.66ba64f0.chunk.js.map