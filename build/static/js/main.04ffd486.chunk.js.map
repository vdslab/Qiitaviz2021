{"version":3,"sources":["ZoomableSVG.js","D3DirectedGraph.js","App.js","index.js"],"names":["ZoomableSVG","children","width","height","svgRef","useRef","useState","k","setK","x","setX","y","setY","useEffect","zoom","d3","on","event","transform","current","call","ref","className","style","display","marginLeft","marginRight","D3DirectedGraph","articleData","type","title","url","MOBILE_BORDER_SIZE","loading","setLoading","nodes","setNodes","links","setLinks","displayArticle","setDisplayArticle","mousePosition","setMousePosition","window","deviceWidth","innerWidth","svgWidth","innerHeight","svgHeight","nodeClickHandle","e","overHandle","target","currentTarget","dataset","name","data","filter","item","positionX","pageX","positionY","pageY","startSimulation","simulation","force","radius","d","r","iterations","distance","id","strength","slice","a","fetch","response","json","Array","push","ID","label","nodeName","childNode","child","source","startLineChart","viewBox","refX","refY","orient","markerWidth","markerHeight","xoverflow","fill","stroke","map","link","strokeWidth","markerEnd","x1","y1","x2","y2","node","cx","cy","data-url","data-name","onClick","onMouseEnter","textAnchor","fontSize","length","position","left","top","onMouseLeave","i","href","Main","minHeight","path","exact","AreaTab","Search","Header","Navigation","aria-haspopup","aria-controls","role","placeholder","to","Footer","App","render","document","querySelector"],"mappings":"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","file":"static/js/main.04ffd486.chunk.js","sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport * as d3 from \"d3\";\n\nfunction ZoomableSVG({ children, width, height }) {\n  const svgRef = useRef();\n  const [k, setK] = useState(1);\n  const [x, setX] = useState(0);\n  const [y, setY] = useState(0);\n  useEffect(() => {\n    const zoom = d3.zoom().on(\"zoom\", (event) => {\n      const { x, y, k } = event.transform;\n      setK(k);\n      setX(x);\n      setY(y);\n    });\n    d3.select(svgRef.current).call(zoom);\n  }, []);\n  return (\n    <svg\n      ref={svgRef}\n      width={width}\n      height={height}\n      className=\"has-background-white\"\n      style={{\n        display: \"block\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n      }}\n    >\n      <g transform={`translate(${x}, ${y})scale(${k})`}>{children}</g>\n    </svg>\n  );\n}\n\nexport default ZoomableSVG;\n","import * as d3 from \"d3\";\r\nimport \"bulma/css/bulma.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport ZoomableSVG from \"./ZoomableSVG\";\r\n\r\nfunction D3DirectedGraph() {\r\n  // 仮の記事データ\r\n  const articleData = [\r\n    {\r\n      type: \"JavaScript\",\r\n      title: \"【JavaScript】JavaScriptにおけるクロージャーとは\",\r\n      url: \"https://qiita.com/sho_U/items/1d58d5fb7cb11030f24b\",\r\n    },\r\n    {\r\n      type: \"JavaScript\",\r\n      title: \"【JavaScript】javascriptの基本\",\r\n      url: \"https://qiita.com/smkhkc/items/5e3729cffab6591f34c6\",\r\n    },\r\n    {\r\n      type: \"JavaScript\",\r\n      title: \"【JavaScript】JavaScriptの 「this」とは 1\",\r\n      url: \"https://qiita.com/sho_U/items/edb7c897a2bab0f86345\",\r\n    },\r\n    {\r\n      type: \"JavaScript\",\r\n      title: \"【JavaScript】JavaScriptにおける変数の参照について\",\r\n      url: \"https://qiita.com/sho_U/items/3d64d23fe31ed09e9dcb\",\r\n    },\r\n    {\r\n      type: \"iOS\",\r\n      title: \"iOS概論\",\r\n      url: \"https://qiita.com/zousaaan3/items/16de2103aa4efb07e6fd\",\r\n    },\r\n    {\r\n      type: \"iOS\",\r\n      title: \"iOS概論\",\r\n      url: \"https://qiita.com/zousaaan3/items/16de2103aa4efb07e6fd\",\r\n    },\r\n    {\r\n      type: \"iOS\",\r\n      title: \"iOS概論\",\r\n      url: \"https://qiita.com/zousaaan3/items/16de2103aa4efb07e6fd\",\r\n    },\r\n    {\r\n      type: \"iOS\",\r\n      title: \"iOS概論\",\r\n      url: \"https://qiita.com/zousaaan3/items/16de2103aa4efb07e6fd\",\r\n    },\r\n    {\r\n      type: \"Docker\",\r\n      title: \"【Docker】Dockerとは\",\r\n      url: \"https://qiita.com/y-hira18/items/b259f5a2a870478a5453\",\r\n    },\r\n    {\r\n      type: \"Docker\",\r\n      title: \"【Docker】Dockerとは\",\r\n      url: \"https://qiita.com/y-hira18/items/b259f5a2a870478a5453\",\r\n    },\r\n    {\r\n      type: \"Docker\",\r\n      title: \"【Docker】Dockerとは\",\r\n      url: \"https://qiita.com/y-hira18/items/b259f5a2a870478a5453\",\r\n    },\r\n    {\r\n      type: \"Docker\",\r\n      title: \"【Docker】Dockerとは\",\r\n      url: \"https://qiita.com/y-hira18/items/b259f5a2a870478a5453\",\r\n    },\r\n    {\r\n      type: \"CSS\",\r\n      title: \"CSS　～CSSとは何か～\",\r\n      url: \"https://qiita.com/stroke/items/19123fc34db3e3483c01\",\r\n    },\r\n    {\r\n      type: \"CSS\",\r\n      title: \"CSS　～CSSとは何か～\",\r\n      url: \"https://qiita.com/stroke/items/19123fc34db3e3483c01\",\r\n    },\r\n    {\r\n      type: \"CSS\",\r\n      title: \"CSS　～CSSとは何か～\",\r\n      url: \"https://qiita.com/stroke/items/19123fc34db3e3483c01\",\r\n    },\r\n    {\r\n      type: \"CSS\",\r\n      title: \"CSS　～CSSとは何か～\",\r\n      url: \"https://qiita.com/stroke/items/19123fc34db3e3483c01\",\r\n    },\r\n    {\r\n      type: \"PHP\",\r\n      title: \"PHPでデータベースに接続するときのまとめ\",\r\n      url: \"https://qiita.com/mpyw/items/b00b72c5c95aac573b71\",\r\n    },\r\n    {\r\n      type: \"PHP\",\r\n      title: \"PHPでデータベースに接続するときのまとめ\",\r\n      url: \"https://qiita.com/mpyw/items/b00b72c5c95aac573b71\",\r\n    },\r\n    {\r\n      type: \"PHP\",\r\n      title: \"PHPでデータベースに接続するときのまとめ\",\r\n      url: \"https://qiita.com/mpyw/items/b00b72c5c95aac573b71\",\r\n    },\r\n    {\r\n      type: \"PHP\",\r\n      title: \"PHPでデータベースに接続するときのまとめ\",\r\n      url: \"https://qiita.com/mpyw/items/b00b72c5c95aac573b71\",\r\n    },\r\n    {\r\n      type: \"AWS\",\r\n      title: \"javascriptからAWS S3へのアップロード\",\r\n      url: \"https://qiita.com/taaachezi/items/ed331ba66ed4fc0f838b\",\r\n    },\r\n    {\r\n      type: \"AWS\",\r\n      title: \"javascriptからAWS S3へのアップロード\",\r\n      url: \"https://qiita.com/taaachezi/items/ed331ba66ed4fc0f838b\",\r\n    },\r\n    {\r\n      type: \"AWS\",\r\n      title: \"javascriptからAWS S3へのアップロード\",\r\n      url: \"https://qiita.com/taaachezi/items/ed331ba66ed4fc0f838b\",\r\n    },\r\n    {\r\n      type: \"AWS\",\r\n      title: \"javascriptからAWS S3へのアップロード\",\r\n      url: \"https://qiita.com/taaachezi/items/ed331ba66ed4fc0f838b\",\r\n    },\r\n    {\r\n      type: \"Vue.js\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"Vue.js\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"Vue.js\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"Vue.js\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"Node.js\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"Node.js\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"Node.js\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"Node.js\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"HTML\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"HTML\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"HTML\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"HTML\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"Rails\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"Rails\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"Rails\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"Rails\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"React\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"React\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"React\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"React\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"Ruby\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"Ruby\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"Ruby\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n    {\r\n      type: \"Ruby\",\r\n      title: \"サンプルテキスト\",\r\n      url: \"サンプルテキスト\",\r\n    },\r\n  ];\r\n  const MOBILE_BORDER_SIZE = 599;\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [nodes, setNodes] = useState([]);\r\n  const [links, setLinks] = useState([]);\r\n  // おすすめ記事\r\n  const [displayArticle, setDisplayArticle] = useState([]);\r\n  const [mousePosition, setMousePosition] = useState([]);\r\n\r\n  // デバイスの横、縦幅を取得\r\n  const { innerWidth: deviceWidth, innerHeight: deviceHeight } = window;\r\n  const svgWidth =\r\n    deviceWidth <= MOBILE_BORDER_SIZE ? deviceWidth * 0.9 : deviceWidth * 0.8;\r\n  const svgHeight = deviceWidth <= MOBILE_BORDER_SIZE ? 1500 : 1100;\r\n  const nodeClickHandle = (e) => {\r\n    //do nothing\r\n  };\r\n  function overHandle(e) {\r\n    const target = e.currentTarget.dataset.name;\r\n    const data = articleData.filter((item) => {\r\n      return item.type == target;\r\n    });\r\n    const positionX = deviceWidth <= MOBILE_BORDER_SIZE ? \"500\" : e.pageX;\r\n    const positionY = e.pageY;\r\n\r\n    setDisplayArticle(data);\r\n    setMousePosition([positionX, positionY]);\r\n  }\r\n  function outHandle(e) {\r\n    setDisplayArticle([]);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const startSimulation = (nodes, links) => {\r\n      const linkLen = 150;\r\n      const simulation = d3\r\n        .forceSimulation()\r\n        .force(\r\n          \"collide\",\r\n          d3\r\n            .forceCollide()\r\n            .radius(function (d) {\r\n              return d.r;\r\n            })\r\n            .iterations(16)\r\n        ) //衝突値の設定\r\n        .force(\r\n          \"link\",\r\n          d3\r\n            .forceLink()\r\n            .distance((d) => linkLen)\r\n            .id((d) => d.id)\r\n        ) //stength:linkの強さ（元に戻る力 distance: linkの長さ\r\n        .force(\"charge\", d3.forceManyBody().strength(-500)) //引き合う力を設定。\r\n        .force(\"center\", d3.forceCenter(svgWidth / 2, svgHeight / 2)) //描画するときの中心を設定\r\n        .force(\r\n          \"x\",\r\n          d3\r\n            .forceX()\r\n            .x(svgWidth / 2)\r\n            .strength(0.1)\r\n        ); //x方向に戻る力\r\n\r\n      simulation\r\n        // forceSimulationの影響下に  desを置く\r\n        .nodes(nodes)\r\n        // 時間経過で動かす\r\n        .on(\"tick\", ticked);\r\n      // linkデータをセット\r\n      simulation.force(\"link\").links(links);\r\n\r\n      function ticked() {\r\n        setNodes(nodes.slice());\r\n        setLinks(links.slice());\r\n      }\r\n    };\r\n\r\n    const startLineChart = async () => {\r\n      const [nodes, links] = await (async () => {\r\n        const response = await fetch(\"./data/ordered_data.json\");\r\n        const data = await response.json();\r\n        const nodes = Array();\r\n        const links = Array();\r\n        const r = 35;\r\n\r\n        for (const item of data) {\r\n          nodes.push({\r\n            id: item.ID, //nodeのindexを標準設定から変更\r\n            label: item.nodeName,\r\n            url: item.url,\r\n            r,\r\n          });\r\n\r\n          for (const child of item.childNode) {\r\n            links.push({\r\n              source: item.ID,\r\n              target: child,\r\n            });\r\n          }\r\n        }\r\n        return [nodes, links];\r\n      })();\r\n\r\n      startSimulation(nodes, links);\r\n      setLoading(false);\r\n    };\r\n    startLineChart();\r\n    // １度だけuseEffect()を実行する\r\n  }, []);\r\n\r\n  const arrowEdgeX = -35;\r\n  const arrowEdgeY = -5;\r\n  const arrowHeight = 10;\r\n  const arrowWidth = 14;\r\n  const arrowEdgeEnd = -25;\r\n\r\n  if (loading) {\r\n    return <div></div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"\">\r\n      <ZoomableSVG width={svgWidth} height={svgHeight}>\r\n        <defs>\r\n          <marker\r\n            id=\"arrowhead\"\r\n            viewBox={`${arrowEdgeX} ${arrowEdgeY} ${arrowWidth} ${arrowHeight}`}\r\n            refX=\"13\"\r\n            refY=\"0\"\r\n            orient=\"auto\"\r\n            markerWidth=\"13\"\r\n            markerHeight=\"13\"\r\n            xoverflow=\"visible\"\r\n          >\r\n            <path\r\n              d={`M ${arrowEdgeX} ${arrowEdgeY} L ${arrowEdgeEnd} 0 L ${arrowEdgeX} ${\r\n                -1 * arrowEdgeY\r\n              }`}\r\n              fill=\"#999\"\r\n              style={{ stroke: \"none\" }}\r\n            ></path>\r\n          </marker>\r\n        </defs>\r\n\r\n        <g className=\"links\">\r\n          {links.map((link) => {\r\n            return (\r\n              <line\r\n                key={link.source.id + \"-\" + link.target.id}\r\n                stroke=\"black\"\r\n                strokeWidth=\"1\"\r\n                className=\"link\"\r\n                markerEnd=\"url(#arrowhead)\"\r\n                id=\"edgepath0\"\r\n                x1={link.source.x}\r\n                y1={link.source.y}\r\n                x2={link.target.x}\r\n                y2={link.target.y}\r\n              ></line>\r\n            );\r\n          })}\r\n        </g>\r\n\r\n        <g className=\"nodes\">\r\n          {nodes.map((node) => {\r\n            return (\r\n              <g className=\"nodes\" key={node.id}>\r\n                <circle\r\n                  className=\"node\"\r\n                  r={node.r}\r\n                  style={{ fill: \"rgb(128, 255, 191)\" }}\r\n                  cx={node.x}\r\n                  cy={node.y}\r\n                  data-url={node.url}\r\n                  data-name={node.label}\r\n                  onClick={nodeClickHandle}\r\n                  onMouseEnter={overHandle}\r\n                ></circle>\r\n\r\n                <text\r\n                  className=\"node-label\"\r\n                  textAnchor=\"middle\"\r\n                  fill=\"black\"\r\n                  fontSize={deviceWidth <= MOBILE_BORDER_SIZE ? \"15px\" : \"15px\"}\r\n                  x={node.x}\r\n                  y={node.y}\r\n                >\r\n                  {node.label}\r\n                </text>\r\n              </g>\r\n            );\r\n          })}\r\n        </g>\r\n      </ZoomableSVG>\r\n      <div\r\n        className={displayArticle.length > 0 ? \"card show popup\" : \"card popup\"}\r\n        style={{\r\n          position: \"absolute\",\r\n          left: mousePosition[0],\r\n          top: mousePosition[1],\r\n        }}\r\n        onMouseLeave={outHandle}\r\n      >\r\n        <div className=\"card-content\">\r\n          <div className=\"content\">\r\n            <p>おすすめの記事</p>\r\n            {displayArticle.map((item, i) => {\r\n              return (\r\n                <p key={i}>\r\n                  <a href={item.url} target=\"_blank\">\r\n                    {item.title}\r\n                  </a>\r\n                </p>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default D3DirectedGraph;\r\n","/** @format */\n\nimport D3DirectedGraph from \"./D3DirectedGraph\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport \"bulma/css/bulma.css\";\n\nfunction App() {\n  return (\n    <Router>\n      <div>\n        <Header />\n        <Main />\n        <Footer />\n      </div>\n    </Router>\n  );\n}\n\nfunction Main() {\n  return (\n    <section\n      className=\"section has-background-white-bis\"\n      style={{ minHeight: \"1000px\" }}\n    >\n      <Switch>\n        <Route path=\"/\" exact>\n          <div className=\"\">\n            <div className=\"columns is-centered\">\n              <AreaTab />\n              <Search />\n            </div>\n            <D3DirectedGraph />\n          </div>\n        </Route>\n        <Route path=\"/usage\">\n          <div>使い方だよ！</div>\n        </Route>\n        <Route path=\"/description\">\n          <div>このサイトでできることだよ！</div>\n        </Route>\n        <Route path=\"/references\">\n          <div>参考文献だよ！</div>\n        </Route>\n      </Switch>\n    </section>\n  );\n}\n\nfunction Header() {\n  return (\n    <div className=\"hero is-small is-primary\">\n      <section className=\"section hero-body\">\n        <div className=\"container\">\n          <div className=\"columns\">\n            <div className=\"column is-one-third is-offset-one-third\">\n              <h1 className=\"title is-3 has-text-centered\">\n                2021QiitaViz-legends\n              </h1>\n            </div>\n            <Navigation />\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n\nfunction AreaTab() {\n  return (\n    <div className=\"column is-one-fifth\">\n      <div className=\"dropdown is-hoverable\">\n        <div className=\"dropdown-trigger\">\n          <button\n            className=\"button\"\n            aria-haspopup=\"true\"\n            aria-controls=\"dropdown-menu\"\n          >\n            <span>領域を選択</span>\n            <span className=\"icon is-small\">\n              <i className=\"fas fa-angle-down\"></i>\n            </span>\n          </button>\n        </div>\n        <div className=\"dropdown-menu\" id=\"dropdown-menu\" role=\"menu\">\n          <div className=\"dropdown-content\">\n            <a href=\"#\" className=\"dropdown-item\">\n              Web\n            </a>\n            <a href=\"#\" className=\"dropdown-item\">\n              IOS\n            </a>\n            <a href=\"#\" className=\"dropdown-item\">\n              Android\n            </a>\n            <a href=\"#\" className=\"dropdown-item\">\n              CS\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction Search() {\n  return (\n    <div className=\"column is-one-fifth\">\n      <div className=\"field has-addons\" style={{ marginLeft: \"0\" }}>\n        <div className=\"control\">\n          <input\n            className=\"input\"\n            type=\"text\"\n            name=\"search\"\n            placeholder=\"タグを検索\"\n          />\n        </div>\n        <div className=\"control\">\n          <a className=\"button is-success\">\n            <i className=\"fa fa-search\"></i>検索\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n}\nfunction Navigation() {\n  return (\n    <div className=\"column\">\n      <div className={`dropdown is-hoverable`}>\n        <div className=\"dropdown-trigger\">\n          <button\n            className=\"button is-primary\"\n            aria-haspopup=\"true\"\n            aria-controls=\"dropdown-menu\"\n          >\n            <span className=\"has-text-weight-bold\">メニュー</span>\n            <span className=\"icon is-small\">\n              <i className=\"fas fa-angle-down\"></i>\n            </span>\n          </button>\n        </div>\n        <div className=\"dropdown-menu\" id=\"dropdown-menu\" role=\"menu\">\n          <div className=\"dropdown-content\">\n            <Link className=\"dropdown-item\" to=\"/\">\n              ホーム\n            </Link>\n            <Link className=\"dropdown-item\" to=\"/usage\">\n              使い方\n            </Link>\n            <Link className=\"dropdown-item\" to=\"/description\">\n              このサイトでできること\n            </Link>\n            <Link className=\"dropdown-item\" to=\"/references\">\n              参考文献\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction Footer() {\n  return (\n    <footer className=\"footer has-background-white-ter\">\n      <div className=\"content has-text-centered\">\n        <p>2021 QiitaViz</p>\n      </div>\n    </footer>\n  );\n}\n\nexport default App;\n","import { render } from \"react-dom\";\nimport App from \"./App\";\n\nrender(<App />, document.querySelector(\"#content\"));"],"sourceRoot":""}